---
title: 9.3 패키지 빌드
aliases:
  - Building Packages
---

### 9.3.1 import and export

`import` 문은 **다른 패키지**에서 노출된 <sup>exported</sup> 상수, 변수, 함수, 타입을 접근할 수 있도록 한다.

Go 에서는 **특별한 키워드 없이** 패키지 레벨 식별자를 **대문자로 시작**하는 것으로 노출할 수 있다.

> [!NOTE]
>
> 노출된 모든 것은 패키지 API 의 일부이다.
> 식별자를 노출시키기 전, 의도한 것인지 확인해야 한다.
> 의도적으로 주요 버전을 변경하지 않는 한 이전 버전과 호환은 유지해야 한다.

### 9.3.2 패키지 생성과 접근

see

- https://github.com/learning-go-book/package_example or
- https://github.com/ndy2/learning-go/tree/main/codes/chapter09/

### 9.3.3 패키지 이름 짓기

**1. 패키지 이름은 설명적이어야 한다.**

`util.ExtractName`/`util.FormatName` 보다 `extract.Names`/ `format.Names` 이 더 좋다.
패키지 이름으로 명확히 구분이 되기 때문에 두 함수의 이름이 같더라도 문제가 없다.

**2. 패키지 내의 함수 및 타입의 이름에서 패키지 이름을 반복하지 말자**

`page.PageInfo`/ `page.PageHandler` 보다 `page.Info`/ `page.Handler` 가 더 좋다.

- 식별자의 이름이 패키지의 이름과 완전히 같은 경우는 예외
    - e.g.) sort.Sort/ context.Context

### 9.3.4 모듈을 구성하는 방법

모듈에서 Go 패키지를 구성하는 공식적인 방법은 없지만, 몇 년에 걸쳐 몇 가지 패턴들이 나타 났다.

**1. 모듈이 작다면, 모든 코드를 단일 패키지로 구성**

**2. 모듈이 하나 이상의 응용 프로그램으로 구성되었다면, 모듈의 루트 디렉토리에 cmd 디렉토리를 만들자.**

- cmd 내에는 모듈에서 생성하는 각 바이너리에 대해 하나의 디렉터리를 만든다.

**3. 모듈이 루트 디렉토리에 테스팅 관리 및 프로젝트 배포를 위한 많은 파일을 포함한다면, 모듈의 루트 디렉토리에 pkg 디렉토리를 만들자.**

- 모든 Go 코드 를 pkg 디렉터리 하위 패키지로 이동한다.

> [!QUOTE] 참고 자료
> 
> - GopherCon 2018 - Kat Zien - How Do You Structure Your Go Apps [@Youtube](https://youtu.be/oL6JBUk6tj0)

### 9.3.5 패키지 이름 재정의

- SKIP

### 9.3.6 패키지 주석과 godoc

- TODO

### 9.3.7 내부 패키지

- TODO

### 9.3.8 init 함수: 가능하면 피하자

- SKIP/TODO

### 9.3.9 순환 의존성

- SKIP/TODO

### 9.3.10 API 의 이름을 우아하게 바꾸고 재구성하기

- SKIP